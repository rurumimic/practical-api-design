## 2. 실제 설계

API는 의사소통에 관한 것이다.  
같은 언어를 공유하고,  
공통적으로 이해할 수 있는 구성요소를 사용하면  
더 성공적으로 의사소통을 할 수 있다.

디자인 패턴:
- 디자인 패턴은 출발점으로 좋다.
- API 설계자 사이에서 기본적인 의사소통 어휘로 사용하기에 알맞다.
- 디자인 패턴은 "소프트웨어 설계 문제에 대한 반복되는 해결책"이다.

**API 설계자들은 진심으로 디자인 패턴을 알아둘 필요가 있다.**

API 디자인 패턴을 만든다.
- 패턴 이름
- 문제 설명
- 해결책
- **진화 계획**

### Chapter 5. 필요 이상으로 노출하지 마라

- 더 적게 노출할 수록 더 좋다.  
- 겉으로 노출되는 것이 많을수록 구현의 내부 구조를 변경할 때 누릴 수 있는 유연성은 줄어든다.  
- 다양한 유스케이스가 있는 것으로 API를 만든다.  
- 실력이 부족할수록 API가 장황해진다.  
- API를 통해 노출되는 모든 메서드와 클래스는 잘못 사용될 것이다.  
- API를 처음으로 릴리스하기에 앞서 제거할 수 있는 것은 모조리 제거하라.  
- API를 공표함으로써 나중에 훨씬 더 많은 일을 할 것이라고 약속하는 것이다.  
- 최종 사용자에게 우리가 발걸음을 옮기고 있다는 사실을 감추는 것이다.
- 핫스팟 JVM에서는 정적으로 컴파일된 코드보다 인터프리트(동적으로 컴파일)된 코드가 빠를 수 있다.  
- 자바에서는 성능을 위하 API 캡슐화를 희생할 필요가 없다.

1. 필드를 감추고 메서드를 사용한다.
   - 메소드는 필드 읽기/쓰기와 함께 추가적인 작업이 가능하다.
   - 한 클래스의 메서드는 상위 클래스로 옮길 수 있다.
1. 생성자보다 팩터리가 낫다.
   - API를 진화시키기가 수월하다.
   - 반환하는 클래스 타입이 유연하다.
   - 인스턴스를 캐싱할 수 있다.
   - 동기화를 할 수 있다.
1. 모든 것을 final로 만들어라.
   - 클래스, 생성자, 메서드
   - final이나 private
1. 어울리지 않는 곳에 설정자를 넣지 마라.
1. 프렌드 코드에서만 접근하는 것을 허용하라.
   - package private
   - 런타임 컨테이너를 이용한 코드 보안
   - 클래스 로딩 단계에서 패키지 접근을 막을 수 있다.
1. 객체를 만든 이에게 더 많은 권한을 부여하라.
1. 깊은 계층 구조를 노출하지 마라.
   - 서브클래식에 엄격해진다.

### Chapter 6. 구현이 아닌 인터페이스를 대상으로 코드를 작성하라

